<!-- 英雄区域 - 精简版 -->
  <section class="relative bg-gradient-to-br from-secondary via-accent to-primary overflow-hidden py-12 md:py-20">
    <!-- 背景装饰 -->
    <div class="absolute inset-0 opacity-10">
      <div class="absolute top-1/4 left-1/4 w-64 h-64 rounded-full bg-white blur-3xl"></div>
      <div class="absolute bottom-1/3 right-1/3 w-96 h-96 rounded-full bg-white blur-3xl"></div>
    </div>
    
    <div class="container mx-auto px-4 md:px-6 relative z-10">
      <div class="max-w-3xl mx-auto text-center">
        <h1 class="text-[clamp(2rem,4vw,3rem)] font-extrabold text-white leading-tight mb-6 text-shadow">
          多区域展示，<br>全方位提升产品影响力
        </h1>
        <p class="text-[clamp(1rem,2vw,1.25rem)] text-white/90 mb-8 max-w-xl mx-auto">
          首页多个专属展示区域，覆盖智能体、公众号、小程序、小游戏和文章，精准触达目标用户
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="#promotion" class="bg-white text-secondary px-8 py-3 rounded-lg font-semibold text-center transition-all duration-300 hover:shadow-lg transform hover:-translate-y-0.5 hover:bg-gray-50">
            了解推广方案
          </a>
          <a href="#submit" class="bg-transparent border-2 border-white px-8 py-3 rounded-lg font-semibold text-center transition-all duration-300 hover:bg-white/10 flex items-center justify-center">
            立即申请投放 <i class="fa fa-arrow-right ml-2"></i>
          </a>
        </div>
      </div>
    </div>
    
    <!-- 波浪底部 -->
    <div class="absolute bottom-0 left-0 w-full overflow-hidden">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 100" class="w-full h-auto">
        <path fill="#f9fafb" fill-opacity="1" d="M0,64L80,69.3C160,75,320,85,480,80C640,75,800,53,960,48C1120,43,1280,53,1360,58.7L1440,64L1440,100L1360,100C1280,100,1120,100,960,100C800,100,640,100,480,100C320,100,160,100,80,100L0,100Z"></path>
      </svg>
    </div>
  </section>
  
  <!-- 展示区域导航 -->
  <section class="py-6 bg-white border-b border-gray-100 sticky top-16 md:top-20 z-40">
    <div class="container mx-auto px-4 md:px-6">
      <div class="flex overflow-x-auto scrollbar-hide space-x-2 md:space-x-6 pb-2 md:pb-0">
        <a href="#agents" class="nav-btn whitespace-nowrap px-4 py-2 rounded-full bg-primary text-white font-medium text-sm">智能体展示区</a>
        <a href="#official" class="nav-btn whitespace-nowrap px-4 py-2 rounded-full bg-gray-100 text-gray-700 font-medium text-sm hover:bg-gray-200 transition">公众号展示区</a>
        <a href="#miniprograms" class="nav-btn whitespace-nowrap px-4 py-2 rounded-full bg-gray-100 text-gray-700 font-medium text-sm hover:bg-gray-200 transition">小程序展示区</a>
        <a href="#games" class="nav-btn whitespace-nowrap px-4 py-2 rounded-full bg-gray-100 text-gray-700 font-medium text-sm hover:bg-gray-200 transition">小游戏展示区</a>
        <a href="#articles" class="nav-btn whitespace-nowrap px-4 py-2 rounded-full bg-gray-100 text-gray-700 font-medium text-sm hover:bg-gray-200 transition">文章展示区</a>
        <a href="#featured" class="nav-btn whitespace-nowrap px-4 py-2 rounded-full bg-gray-100 text-gray-700 font-medium text-sm hover:bg-gray-200 transition">精选推荐区</a>
      </div>
    </div>
  </section>
  
  <!-- 智能体展示区 -->
  <section id="agents" class="py-12 md:py-16 bg-gradient-to-b from-gray-50 to-white">
    <div class="container mx-auto px-4 md:px-6">
      <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
        <div>
          <div class="flex items-center mb-2">
            <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2">
              <i class="fa fa-paper-plane text-blue-600"></i>
            </div>
            <h2 class="text-2xl md:text-3xl font-bold text-secondary">智能体展示区</h2>
          </div>
          <p class="text-gray-600">展示最新、最受欢迎的AI智能体产品</p>
        </div>
        <div class="mt-4 md:mt-0 flex space-x-2">
          <span class="inline-flex items-center text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full">
            <i class="fa fa-clock-o mr-1"></i> 每日更新
          </span>
          <a href="<{url m="pc" c="main" a="list"}>?ct=314" class="text-primary font-medium hover:underline text-sm flex items-center">
            查看全部 <i class="fa fa-angle-right ml-1"></i>
          </a>
        </div>
      </div>
      
      <!-- 智能体展示网格 -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- 置顶推广位 -->
         <{if $agentData.topPromotion}>
        <div class="lg:col-span-2 bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl promo-badge">
          <div class="relative">
            <a target="_blank" href="<{url m="pc" c="main" a="details" id=$agentData.topPromotion.id}>"><img src="<{$agentData.topPromotion.thumbnail}>" alt="<{$agentData.topPromotion.title}>" class="w-full h-48 object-cover"></a>
            <div class="absolute top-3 left-3 bg-primary text-white text-xs px-2 py-1 rounded">置顶推广</div>
          </div>
          <div class="p-5">
            <div class="flex justify-between items-start">
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$agentData.topPromotion.id}>"><h3 class="font-bold text-xl"><{$agentData.topPromotion.title}></h3></a>
              <span class="bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded"><{$agentData.topPromotion.plat}></span>
            </div>
            <p class="text-gray-600 text-sm mt-2 line-clamp-2"><{$agentData.topPromotion.description}></p>
            <div class="mt-4 flex justify-between items-center">
              <div class="flex items-center">
                <div class="flex text-yellow-400 text-xs">
                  <{foreach $agentData.topPromotion.rating.stars as $score}>
                  <{if $score == "full"}>
                  <i class="fa fa-star"></i>
                  <{else if $score == "half"}>
                  <i class="fa fa-star-half-o"></i>
                  <{else}>
                  <i class="fa fa-star-o"></i>
                  <{/if}>
                  <{/foreach}>
                </div>
                <span class="text-gray-500 text-xs ml-2"><{$agentData.topPromotion.rating.score}> (<{$agentData.topPromotion.monthly_active}>)</span>
              </div>
              <span class="text-sm text-gray-500">更新时间: <{$agentData.topPromotion.publish_time}></span>
            </div>
          </div>
        </div>
        <{/if}>
        <!-- 普通展示位 -->
         <{if $agentData.normalAgents}>
         <{foreach $agentData.normalAgents as $item}>
        <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl">
          <div class="relative">
            <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>"><img src="<{$item.thumbnail}>" alt="<{$item.title}>" class="w-full h-40 object-cover"></a>
          </div>
          <div class="p-4">
            <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>"><h3 class="font-bold"><{$item.title}></h3></a>
            <p class="text-gray-600 text-xs mt-1 line-clamp-2"><{$item.description}></p>
            <div class="mt-3 flex justify-between items-center">
              <div class="flex text-yellow-400 text-xs">
                <{foreach $item.rating.stars as $score}>
                  <{if $score == "full"}>
                  <i class="fa fa-star"></i>
                  <{else if $score == "half"}>
                  <i class="fa fa-star-half-o"></i>
                  <{else}>
                  <i class="fa fa-star-o"></i>
                  <{/if}>
                <{/foreach}>
              </div>
              <span class="text-xs text-gray-500">更新时间: <{$item.publish_time}></span>
            </div>
          </div>
        </div>
        <{/foreach}>
        <{/if}>
        <!-- 推广位 -->
         <{if $agentData.promotions}>
         <{foreach $agentData.promotions as $item}>
        <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl promo-badge">
          <div class="relative">
            <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
              <img src="<{$item.thumbnail}>" alt="<{$item.title}>" class="w-full h-40 object-cover">
            </a>
          </div>
          <div class="p-4">
            <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
              <h3 class="font-bold"><{$item.title}></h3>
            </a>
            <p class="text-gray-600 text-xs mt-1 line-clamp-2"><{$item.description}></p>
            <div class="mt-3 flex justify-between items-center">
              <div class="flex text-yellow-400 text-xs">
                <{foreach $item.rating.stars as $score}>
                  <{if $score == "full"}>
                  <i class="fa fa-star"></i>
                  <{else if $score == "half"}>
                  <i class="fa fa-star-half-o"></i>
                  <{else}>
                  <i class="fa fa-star-o"></i>
                  <{/if}>
                <{/foreach}>
              </div>
              <span class="text-xs text-gray-500">更新时间: <{$item.publish_time}></span>
            </div>
          </div>
        </div>
        <{/foreach}>
        <{/if}>
        
        <!-- 无数据提示 -->
        <{if !$agentData.topPromotion && !$agentData.normalAgents && !$agentData.promotions}>
        <div class="col-span-full flex flex-col items-center justify-center py-16 text-gray-500">
          <i class="fa fa-robot text-6xl text-gray-300 mb-4"></i>
          <h3 class="text-lg font-medium mb-2">暂无智能体数据</h3>
          <p class="text-sm text-gray-400">目前没有可展示的智能体内容，请稍后再试</p>
        </div>
        <{/if}>
      </div>
      <!-- 区域投放说明 -->
      <div class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-4 flex items-start">
        <i class="fa fa-info-circle text-blue-500 mt-1 mr-3"></i>
        <div>
          <h4 class="font-medium text-blue-800">智能体区域投放说明</h4>
          <p class="text-sm text-blue-700 mt-1">本区域包含1个置顶推广位和3个普通推广位，可按日、周、月购买。置顶位每日曝光量约50万+，普通推广位每日曝光量约15万+。<a href="#promotion" class="text-blue-600 hover:underline">查看价格详情</a></p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- 公众号展示区 -->
  <section id="official" class="py-12 md:py-16 bg-white">
    <div class="container mx-auto px-4 md:px-6">
      <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
        <div>
          <div class="flex items-center mb-2">
            <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-2">
              <i class="fa fa-weixin text-green-600"></i>
            </div>
            <h2 class="text-2xl md:text-3xl font-bold text-secondary">公众号展示区</h2>
          </div>
          <p class="text-gray-600">精选优质公众号，按类别展示</p>
        </div>
        <div class="mt-4 md:mt-0 flex space-x-4">
          <div class="inline-flex bg-gray-100 rounded-lg p-1" id="wechat-category-tabs">
            
            <button class="wechat-category-btn px-3 py-1 rounded-md bg-white shadow-sm text-sm font-medium" data-category="all">全部</button>
            <button class="wechat-category-btn px-3 py-1 rounded-md text-gray-600 text-sm hover:bg-gray-50" data-category="生活">生活</button>
            <button class="wechat-category-btn px-3 py-1 rounded-md text-gray-600 text-sm hover:bg-gray-50" data-category="教育">教育</button>
            <button class="wechat-category-btn px-3 py-1 rounded-md text-gray-600 text-sm hover:bg-gray-50" data-category="健康">健康</button>
            
          </div>
          <a href="<{url m="pc" c="main" a="list"}>?ct=11" class="text-primary font-medium hover:underline text-sm flex items-center">
            查看全部 <i class="fa fa-angle-right ml-1"></i>
          </a>
        </div>
      </div>
      
      <!-- 公众号展示 -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="wechat-content-container">
        <!-- 左侧大图推广位（置顶推广位） -->
        <{if $wechatData.topPromotion}>
        <div class="lg:col-span-1 bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl promo-badge">
          <div class="relative">
            <a target="_blank" href="<{url m="pc" c="main" a="details" id=$wechatData.topPromotion.id}>">
              <img src="<{$wechatData.topPromotion.thumbnail}>" alt="<{$wechatData.topPromotion.title}>" class="w-full h-full object-cover">
            </a>
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex flex-col justify-end p-5">
              <div class="w-16 h-16 rounded-full bg-white p-1 mb-3">
                <img src="<{$wechatData.topPromotion.thumbnail}>" alt="<{$wechatData.topPromotion.title}>头像" class="w-full h-full rounded-full object-cover">
              </div>
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$wechatData.topPromotion.id}>">
                <h3 class="text-white font-bold text-xl"><{$wechatData.topPromotion.title}></h3>
                </a>
              <p class="text-white/80 text-sm mt-1"><{$wechatData.topPromotion.description}></p>
              <div class="mt-3 flex items-center">
                <span class="bg-white/20 backdrop-blur-sm text-white text-xs px-2 py-1 rounded mr-2"><{$wechatData.topPromotion.user_nums}>粉丝</span>
                <span class="bg-white/20 backdrop-blur-sm text-white text-xs px-2 py-1 rounded"><{$wechatData.topPromotion.content_type_text}></span>
              </div>
              <div class="absolute top-3 left-3 bg-primary text-white text-xs px-2 py-1 rounded">置顶推广</div>
            </div>
          </div>
        </div>
        <{/if}>
        
        <!-- 右侧列表 -->
        <div class="lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-6">
          <!-- 普通展示位 -->
          <{if $wechatData.normalWechats}>
          <{foreach $wechatData.normalWechats as $item}>
          <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl flex">
            <div class="w-1/3">
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
                <img src="<{$item.thumbnail}>" alt="<{$item.title}>" class="w-full h-full object-cover">
              </a>
            </div>
            <div class="w-2/3 p-4">
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
                <h3 class="font-bold"><{$item.title}></h3>
              </a>
              <p class="text-gray-600 text-xs mt-1 line-clamp-2"><{$item.description}></p>
              <div class="mt-2 flex items-center text-xs text-gray-500">
                <span class="mr-3"><i class="fa fa-user-circle mr-1"></i> <{$item.user_nums}>粉丝</span>
                <span><i class="fa fa-folder-o mr-1"></i> <{$item.content_type_text}></span>
              </div>
              <div class="mt-2 flex items-center text-xs text-gray-400">
                <span>更新时间: <{$item.publish_time}></span>
              </div>
            </div>
          </div>
          <{/foreach}>
          <{/if}>
          
          <!-- 推广位 -->
          <{if $wechatData.promotions}>
          <{foreach $wechatData.promotions as $item}>
          <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl flex promo-badge">
            <div class="w-1/3">
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
                <img src="<{$item.thumbnail}>" alt="<{$item.title}>" class="w-full h-full object-cover">
              </a>
            </div>
            <div class="w-2/3 p-4">
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
                <h3 class="font-bold"><{$item.title}></h3>
              </a>
              <p class="text-gray-600 text-xs mt-1 line-clamp-2"><{$item.description}></p>
              <div class="mt-2 flex items-center text-xs text-gray-500">
                <span class="mr-3"><i class="fa fa-user-circle mr-1"></i> <{$item.user_nums}>粉丝</span>
                <span><i class="fa fa-folder-o mr-1"></i> <{$item.content_type_text}></span>
              </div>
              <div class="mt-2 flex items-center text-xs text-gray-400">
                <span>更新时间: <{$item.publish_time}></span>
              </div>
            </div>
          </div>
          <{/foreach}>
          <{/if}>
          
          <!-- 无数据提示 -->
          <{if !$wechatData.normalWechats && !$wechatData.promotions}>
          <div class="lg:col-span-2 flex flex-col items-center justify-center py-16 text-gray-500">
            <i class="fa fa-weixin text-6xl text-gray-300 mb-4"></i>
            <h3 class="text-lg font-medium mb-2">暂无公众号数据</h3>
            <p class="text-sm text-gray-400">目前没有可展示的公众号内容，请稍后再试</p>
          </div>
          <{/if}>
        </div>
      </div>
      
      <!-- 区域投放说明 -->
      <div class="mt-8 bg-green-50 border border-green-100 rounded-lg p-4 flex items-start">
        <i class="fa fa-info-circle text-green-500 mt-1 mr-3"></i>
        <div>
          <h4 class="font-medium text-green-800">公众号区域投放说明</h4>
          <p class="text-sm text-green-700 mt-1">本区域包含1个大图推广位和2个列表推广位，可按类别定向投放。大图推广位每日曝光量约35万+，列表推广位每日曝光量约12万+。<a href="#promotion" class="text-green-600 hover:underline">查看价格详情</a></p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- 小程序展示区 -->
  <section id="miniprograms" class="py-12 md:py-16 bg-gradient-to-b from-white to-gray-50">
    <div class="container mx-auto px-4 md:px-6">
      <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
        <div>
          <div class="flex items-center mb-2">
            <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center mr-2">
              <i class="fa fa-th-large text-purple-600"></i>
            </div>
            <h2 class="text-2xl md:text-3xl font-bold text-secondary">小程序展示区</h2>
          </div>
          <p class="text-gray-600">热门小程序推荐，按分类浏览</p>
        </div>
        <div class="mt-4 md:mt-0 flex space-x-4">
          <div class="inline-flex bg-gray-100 rounded-lg p-1" id="miniprogram-category-tabs">
            <{foreach $miniProgramData.categories as $cat}>
            <button class="miniprogram-category-btn px-3 py-1 rounded-md text-sm font-medium transition-all duration-300<{if $cat.key == $miniProgramData.currentCategory}> bg-white shadow-sm<{else}> text-gray-600 hover:bg-gray-50<{/if}>" data-category="<{$cat.key}>">
              <{$cat.name}>
            </button>
            <{/foreach}>
          </div>
          <a href="<{url m="pc" c="main" a="list"}>?ct=243" class="text-primary font-medium hover:underline text-sm flex items-center">
            查看全部 <i class="fa fa-angle-right ml-1"></i>
          </a>
        </div>
      </div>
      
      <!-- 小程序轮播推荐 -->
      <div id="miniprogram-content-container">
      <!-- 小程序推广位展示（支持多个） -->
      <{if $miniProgramData.topPromotions && count($miniProgramData.topPromotions) > 0}>
      <div class="mb-10">
        <{foreach $miniProgramData.topPromotions as $promotion}>
        <div class="bg-white rounded-2xl overflow-hidden shadow-md border border-gray-100 p-6 promo-badge mb-6">
          <div class="flex flex-col md:flex-row items-center">
            <div class="md:w-1/3 mb-6 md:mb-0">
              <div class="w-32 h-32 mx-auto bg-gray-100 rounded-xl flex items-center justify-center">
                <a target="_blank" href="<{url m="pc" c="main" a="details" id=$promotion.id}>">
                  <img src="<{$promotion.thumbnail}>" alt="<{$promotion.title}>" class="w-24 h-24 object-contain">
                </a>
              </div>
            </div>
            <div class="md:w-2/3 md:pl-8 text-center md:text-left">
              <div class="inline-block bg-purple-100 text-purple-700 text-xs px-2 py-1 rounded mb-3">置顶推广</div>
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$promotion.id}>">
                <h3 class="font-bold text-2xl mb-3"><{$promotion.title}></h3>
              </a>
              <p class="text-gray-600 mb-4"><{$promotion.description}></p>
              <div class="flex flex-wrap justify-center md:justify-start gap-4 mb-6">
                <div class="flex items-center">
                  <div class="flex text-yellow-400 text-sm mr-1">
                    <{foreach $promotion.rating.stars as $score}>
                      <{if $score == "full"}>
                      <i class="fa fa-star"></i>
                      <{else if $score == "half"}>
                      <i class="fa fa-star-half-o"></i>
                      <{else}>
                      <i class="fa fa-star-o"></i>
                      <{/if}>
                    <{/foreach}>
                  </div>
                  <span class="text-gray-500 text-sm"><{$promotion.rating.score}></span>
                </div>
                <div class="flex items-center text-gray-500 text-sm">
                  <i class="fa fa-download mr-1"></i> <{$promotion.views}>
                </div>
                <div class="flex items-center text-gray-500 text-sm">
                  <i class="fa fa-user mr-1"></i> <{$promotion.content_type_text}>
                </div>
              </div>
              <button class="bg-purple-600 text-white px-6 py-2 rounded-lg font-medium text-sm transition hover:bg-purple-700">
                <i class="fa fa-play-circle mr-1"></i> 立即使用
              </button>
            </div>
          </div>
        </div>
        <{/foreach}>
      </div>
      <{/if}>
      
      <!-- 小程序网格 -->
      <{if $miniProgramData.normalMiniPrograms || $miniProgramData.promotions}>
      <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">
        <!-- 普通展示位 -->
        <{if $miniProgramData.normalMiniPrograms}>
        <{foreach $miniProgramData.normalMiniPrograms as $item}>
        <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl p-4 text-center">
          <div class="w-16 h-16 mx-auto bg-gray-100 rounded-lg flex items-center justify-center mb-3">
            <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
              <img src="<{$item.thumbnail}>" alt="<{$item.title}>" class="w-10 h-10 object-contain">
            </a>
          </div>
          <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
            <h3 class="font-medium text-sm line-clamp-1"><{$item.title}></h3>
          </a>
          <p class="text-gray-500 text-xs mt-1"><{$item.content_type_text}></p>
        </div>
        <{/foreach}>
        <{/if}>
        
        <!-- 推广位 -->
        <{if $miniProgramData.promotions}>
        <{foreach $miniProgramData.promotions as $item}>
        <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl p-4 text-center promo-badge">
          <div class="w-16 h-16 mx-auto bg-gray-100 rounded-lg flex items-center justify-center mb-3">
            <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
              <img src="<{$item.thumbnail}>" alt="<{$item.title}>" class="w-10 h-10 object-contain">
            </a>
          </div>
          <h3 class="font-medium text-sm line-clamp-1"><{$item.title}></h3>
          <p class="text-gray-500 text-xs mt-1"><{$item.content_type_text}></p>
        </div>
        <{/foreach}>
        <{/if}>
      </div>
      <{else}>
      <!-- 无数据提示 -->
      <div class="flex flex-col items-center justify-center py-16 text-gray-500">
        <i class="fa fa-th-large text-6xl text-gray-300 mb-4"></i>
        <h3 class="text-lg font-medium mb-2">暂无小程序数据</h3>
        <p class="text-sm text-gray-400">目前没有可展示的小程序内容，请稍后再试</p>
      </div>
      <{/if}>
      </div>
      <!-- 小程序内容容器结束 -->
      
      <!-- 区域投放说明 -->
      <div class="mt-8 bg-purple-50 border border-purple-100 rounded-lg p-4 flex items-start">
        <i class="fa fa-info-circle text-purple-500 mt-1 mr-3"></i>
        <div>
          <h4 class="font-medium text-purple-800">小程序区域投放说明</h4>
          <p class="text-sm text-purple-700 mt-1">本区域包含1个轮播推广位和3个网格推广位，支持按类别投放。轮播位每日曝光量约40万+，网格推广位每日曝光量约8万+。<a href="#promotion" class="text-purple-600 hover:underline">查看价格详情</a></p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- 小游戏展示区 -->
  <section id="games" class="py-12 md:py-16 bg-white">
    <div class="container mx-auto px-4 md:px-6">
      <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
        <div>
          <div class="flex items-center mb-2">
            <div class="w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center mr-2">
              <i class="fa fa-gamepad text-yellow-600"></i>
            </div>
            <h2 class="text-2xl md:text-3xl font-bold text-secondary">小游戏展示区</h2>
          </div>
          <p class="text-gray-600">精选热门小游戏，即点即玩</p>
        </div>
        <div class="mt-4 md:mt-0 flex space-x-4">
          <div class="inline-flex bg-gray-100 rounded-lg p-1" id="game-category-tabs">
            <{foreach $gameData.categories as $cat}>
            <button class="game-category-btn px-3 py-1 rounded-md text-sm font-medium transition-all duration-300<{if $cat.key == $gameData.currentCategory}> bg-white shadow-sm<{else}> text-gray-600 hover:bg-gray-50<{/if}>" data-category="<{$cat.key}>">
              <{$cat.name}>
            </button>
            <{/foreach}>
          </div>
          <a href="<{url m="pc" c="main" a="list"}>?ct=244" class="text-primary font-medium hover:underline text-sm flex items-center">
            查看全部 <i class="fa fa-angle-right ml-1"></i>
          </a>
        </div>
      </div>
      
      <!-- 游戏展示区 -->
      <div id="game-content-container">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <!-- 左侧大型推广位 -->
        <{if $gameData.topPromotion}>
        <div class="lg:col-span-1 bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl promo-badge">
          <div class="relative">
            <a target="_blank" href="<{url m="pc" c="main" a="details" id=$gameData.topPromotion.id}>">
              <img src="<{$gameData.topPromotion.thumbnail}>" alt="<{$gameData.topPromotion.title}>" class="w-full h-64 object-cover">
            </a>
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
              <div class="p-5 w-full">
                <div class="flex justify-between items-center">
                  <span class="bg-yellow-500 text-white text-xs px-2 py-1 rounded"><{$gameData.topPromotion.content_type_text}></span>
                  <div class="flex items-center text-white text-xs">
                    <{foreach $gameData.topPromotion.rating.stars as $score}>
                      <{if $score == "full"}>
                      <i class="fa fa-star text-yellow-400"></i>
                      <{else if $score == "half"}>
                      <i class="fa fa-star-half-o text-yellow-400"></i>
                      <{else}>
                      <i class="fa fa-star-o text-yellow-400"></i>
                      <{/if}>
                    <{/foreach}>
                    <span class="ml-1"><{$gameData.topPromotion.rating.score}></span>
                  </div>
                </div>
                <a target="_blank" href="<{url m="pc" c="main" a="details" id=$gameData.topPromotion.id}>">
                  <h3 class="text-white font-bold text-xl mt-2"><{$gameData.topPromotion.title}></h3>
                </a>
                <p class="text-white/80 text-sm mt-1 line-clamp-2"><{$gameData.topPromotion.description}></p>
              </div>
            </div>
          </div>
          <div class="p-5">
            <div class="flex justify-between items-center mb-4">
              <div class="flex items-center text-sm text-gray-500">
                <span class="mr-4"><i class="fa fa-user mr-1"></i> <{$gameData.topPromotion.user_nums}>玩家</span>
                <span><i class="fa fa-clock-o mr-1"></i> 更新时间: <{$gameData.topPromotion.publish_time}></span>
              </div>
            </div>
            <button class="w-full bg-yellow-500 text-white py-2 rounded-lg font-medium text-sm transition hover:bg-yellow-600">
              <i class="fa fa-play mr-1"></i> 开始游戏
            </button>
          </div>
        </div>
        <{/if}>
        
        <!-- 右侧游戏列表 -->
        <div class="<{if $gameData.topPromotion}>lg:col-span-2<{else}>lg:col-span-3<{/if}> grid grid-cols-1 sm:grid-cols-2 gap-6">
          <!-- 普通展示位 -->
          <{if $gameData.normalGames}>
          <{foreach $gameData.normalGames as $item}>
          <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl">
            <div class="relative">
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
                <img src="<{$item.thumbnail}>" alt="<{$item.title}>" class="w-full h-36 object-cover">
              </a>
              <div class="absolute top-2 right-2 bg-white/80 backdrop-blur-sm text-yellow-600 text-xs px-2 py-1 rounded flex items-center">
                <{foreach $item.rating.stars as $score}>
                  <{if $score == "full"}>
                  <i class="fa fa-star"></i>
                  <{else if $score == "half"}>
                  <i class="fa fa-star-half-o"></i>
                  <{else}>
                  <i class="fa fa-star-o"></i>
                  <{/if}>
                <{/foreach}>
                <span class="ml-1"><{$item.rating.score}></span>
              </div>
            </div>
            <div class="p-4">
              <div class="flex justify-between items-start">
                <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
                  <h3 class="font-bold"><{$item.title}></h3>
                </a>
                <span class="bg-pink-100 text-pink-700 text-xs px-2 py-1 rounded"><{$item.content_type_text}></span>
              </div>
              <p class="text-gray-600 text-xs mt-1 line-clamp-1"><{$item.description}></p>
              <div class="mt-3 flex justify-between items-center">
                <span class="text-xs text-gray-500"><i class="fa fa-user mr-1"></i> <{$item.user_nums}>玩家</span>
                <button class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-xs transition">
                  开始游戏
                </button>
              </div>
            </div>
          </div>
          <{/foreach}>
          <{/if}>
          
          <!-- 推广位 -->
          <{if $gameData.promotions}>
          <{foreach $gameData.promotions as $item}>
          <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl promo-badge">
            <div class="relative">
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
                <img src="<{$item.thumbnail}>" alt="<{$item.title}>" class="w-full h-36 object-cover">
              </a>
              <div class="absolute top-2 right-2 bg-white/80 backdrop-blur-sm text-yellow-600 text-xs px-2 py-1 rounded flex items-center">
                <{foreach $item.rating.stars as $score}>
                  <{if $score == "full"}>
                  <i class="fa fa-star"></i>
                  <{else if $score == "half"}>
                  <i class="fa fa-star-half-o"></i>
                  <{else}>
                  <i class="fa fa-star-o"></i>
                  <{/if}>
                <{/foreach}>
                <span class="ml-1"><{$item.rating.score}></span>
              </div>
            </div>
            <div class="p-4">
              <div class="flex justify-between items-start">
                <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
                  <h3 class="font-bold"><{$item.title}></h3>
                </a>
                <span class="bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded"><{$item.content_type_text}></span>
              </div>
              <p class="text-gray-600 text-xs mt-1 line-clamp-1"><{$item.description}></p>
              <div class="mt-3 flex justify-between items-center">
                <span class="text-xs text-gray-500"><i class="fa fa-user mr-1"></i> <{$item.user_nums}>玩家</span>
                <button class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-xs transition">
                  开始游戏
                </button>
              </div>
            </div>
          </div>
          <{/foreach}>
          <{/if}>
          
          <!-- 无数据提示 -->
          <{if !$gameData.topPromotion && !$gameData.normalGames && !$gameData.promotions}>
          <div class="col-span-full flex flex-col items-center justify-center py-16 text-gray-500">
            <i class="fa fa-gamepad text-6xl text-gray-300 mb-4"></i>
            <h3 class="text-lg font-medium mb-2">暂无游戏数据</h3>
            <p class="text-sm text-gray-400">目前没有可展示的游戏内容，请稍后再试</p>
          </div>
          <{/if}>
        </div>
      </div>
      </div>
      <!-- 游戏内容容器结束 -->

      
      <!-- 区域投放说明 -->
      <div class="mt-8 bg-yellow-50 border border-yellow-100 rounded-lg p-4 flex items-start">
        <i class="fa fa-info-circle text-yellow-500 mt-1 mr-3"></i>
        <div>
          <h4 class="font-medium text-yellow-800">小游戏区域投放说明</h4>
          <p class="text-sm text-yellow-700 mt-1">本区域包含1个大型推广位和2个列表推广位，支持按游戏类型投放。大型推广位每日曝光量约30万+，列表推广位每日曝光量约10万+。<a href="#promotion" class="text-yellow-600 hover:underline">查看价格详情</a></p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- 文章展示区 -->
  <section id="articles" class="py-12 md:py-16 bg-gradient-to-b from-white to-gray-50">
    <div class="container mx-auto px-4 md:px-6">
      <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
        <div>
          <div class="flex items-center mb-2">
            <div class="w-8 h-8 rounded-full bg-red-100 flex items-center justify-center mr-2">
              <i class="fa fa-newspaper-o text-red-600"></i>
            </div>
            <h2 class="text-2xl md:text-3xl font-bold text-secondary">文章展示区</h2>
          </div>
          <p class="text-gray-600">优质原创文章，按热门程度展示</p>
        </div>
        <div class="mt-4 md:mt-0 flex space-x-4">
          <div class="inline-flex bg-gray-100 rounded-lg p-1" id="article-category-tabs">
            <{foreach $articleData.categories as $cat}>
            <button class="article-category-btn px-3 py-1 rounded-md text-sm font-medium transition-all duration-300<{if $cat.key == $articleData.currentCategory}> bg-white shadow-sm<{else}> text-gray-600 hover:bg-gray-50<{/if}>" data-category="<{$cat.key}>">
              <{$cat.name}>
            </button>
            <{/foreach}>
          </div>
          <a href="<{url m="pc" c="main" a="articles"}></a>" class="text-primary font-medium hover:underline text-sm flex items-center">
            查看全部 <i class="fa fa-angle-right ml-1"></i>
          </a>
        </div>
      </div>
      
      <!-- 文章展示 -->
      <div id="article-content-container">
      <div class="grid grid-cols-1 lg:grid-cols-5 gap-6">
        <!-- 顶部大图文章 -->
        <{if $articleData.topPromotion}>
        <div class="lg:col-span-3 bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl promo-badge">
          <div class="relative">
            <a target="_blank" href="<{url m="pc" c="main" a="details" id=$articleData.topPromotion.id}>">
              <img src="<{$articleData.topPromotion.thumbnail}>" alt="<{$articleData.topPromotion.title}>" class="w-full h-64 object-cover">
            </a>
            <div class="absolute top-4 left-4 bg-red-500 text-white text-xs px-2 py-1 rounded">置顶</div>
          </div>
          <div class="p-6">
            <div class="flex items-center mb-3">
              <span class="bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded mr-2"><{$articleData.topPromotion.content_type_text}></span>
              <span class="text-gray-500 text-sm"><{$articleData.topPromotion.publish_time}></span>
            </div>
            <a target="_blank" href="<{url m="pc" c="main" a="details" id=$articleData.topPromotion.id}>">
              <h3 class="font-bold text-2xl mb-3"><{$articleData.topPromotion.title}></h3>
            </a>
            <p class="text-gray-600 mb-4 line-clamp-3"><{$articleData.topPromotion.description}></p>
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <div class="w-10 h-10 rounded-full overflow-hidden mr-3">
                  <img src="<{$articleData.topPromotion.thumbnail}>" alt="作者头像" class="w-full h-full object-cover">
                </div>
                <span class="font-medium"><{$articleData.topPromotion.author_name}></span>
              </div>
              <div class="flex items-center space-x-4 text-gray-500 text-sm">
                <span><i class="fa fa-eye mr-1"></i> <{$articleData.topPromotion.views}></span>
                <span><i class="fa fa-comment mr-1"></i> <{$articleData.topPromotion.comments}></span>
                <span><i class="fa fa-heart mr-1"></i> <{$articleData.topPromotion.likes}></span>
              </div>
            </div>
          </div>
        </div>
        <{/if}>
        
        <!-- 右侧文章列表 -->
        <div class="<{if $articleData.topPromotion}>lg:col-span-2<{else}>lg:col-span-5<{/if}> flex flex-col gap-6">
          <!-- 普通展示位 -->
          <{if $articleData.normalArticles}>
          <{foreach $articleData.normalArticles as $item}>
          <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl flex flex-col sm:flex-row">
            <div class="sm:w-1/3">
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
                <img src="<{$item.thumbnail}>" alt="<{$item.title}>" class="w-full h-full object-cover">
              </a>
            </div>
            <div class="sm:w-2/3 p-4">
              <span class="bg-green-100 text-green-700 text-xs px-2 py-1 rounded"><{$item.content_type_text}></span>
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
                <h3 class="font-bold mt-2 line-clamp-2"><{$item.title}></h3>
              </a>
              <div class="mt-3 flex items-center justify-between text-sm">
                <span class="text-gray-500"><{$item.views}>阅读</span>
                <span class="text-gray-500"><{$item.publish_time}></span>
              </div>
            </div>
          </div>
          <{/foreach}>
          <{/if}>
          
          <!-- 推广位 -->
          <{if $articleData.promotions}>
          <{foreach $articleData.promotions as $item}>
          <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl flex flex-col sm:flex-row promo-badge">
            <div class="sm:w-1/3">
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
                <img src="<{$item.thumbnail}>" alt="<{$item.title}>" class="w-full h-full object-cover">
              </a>
            </div>
            <div class="sm:w-2/3 p-4">
              <span class="bg-purple-100 text-purple-700 text-xs px-2 py-1 rounded"><{$item.content_type_text}></span>
              <a target="_blank" href="<{url m="pc" c="main" a="details" id=$item.id}>">
                <h3 class="font-bold mt-2 line-clamp-2"><{$item.title}></h3>
              </a>
              <div class="mt-3 flex items-center justify-between text-sm">
                <span class="text-gray-500"><{$item.views}>阅读</span>
                <span class="text-gray-500"><{$item.publish_time}></span>
              </div>
            </div>
          </div>
          <{/foreach}>
          <{/if}>
          
          <!-- 无数据提示 -->
          <{if !$articleData.topPromotion && !$articleData.normalArticles && !$articleData.promotions}>
          <div class="flex flex-col items-center justify-center py-16 text-gray-500">
            <i class="fa fa-newspaper-o text-6xl text-gray-300 mb-4"></i>
            <h3 class="text-lg font-medium mb-2">暂无文章数据</h3>
            <p class="text-sm text-gray-400">目前没有可展示的文章内容，请稍后再试</p>
          </div>
          <{/if}>
        </div>
      </div>
      </div>
      <!-- 文章内容容器结束 -->
      
      <!-- 区域投放说明 -->
      <div class="mt-8 bg-red-50 border border-red-100 rounded-lg p-4 flex items-start">
        <i class="fa fa-info-circle text-red-500 mt-1 mr-3"></i>
        <div>
          <h4 class="font-medium text-red-800">文章区域投放说明</h4>
          <p class="text-sm text-red-700 mt-1">本区域包含1个大图推广位和2个列表推广位，支持按文章类别投放。大图推广位每日曝光量约25万+，列表推广位每日曝光量约8万+。<a href="#promotion" class="text-red-600 hover:underline">查看价格详情</a></p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- 精选推荐区 -->
  <section id="featured" class="py-12 md:py-16 bg-secondary text-white">
    <div class="container mx-auto px-4 md:px-6">
      <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
        <div>
          <div class="flex items-center mb-2">
            <div class="w-8 h-8 rounded-full bg-white/20 flex items-center justify-center mr-2">
              <i class="fa fa-diamond text-white"></i>
            </div>
            <h2 class="text-2xl md:text-3xl font-bold">精选推荐区</h2>
          </div>
          <p class="text-white/80">首页黄金位置，优质资源推荐</p>
        </div>
        <a href="#promotion" class="mt-4 md:mt-0 text-white font-medium hover:underline text-sm flex items-center">
          了解如何上推荐 <i class="fa fa-angle-right ml-1"></i>
        </a>
      </div>
      
      <!-- 精选推荐轮播 -->
      <{if $featuredData.featuredItem}>
      <div class="relative">
        <div class="bg-white/10 backdrop-blur-sm rounded-2xl overflow-hidden shadow-md p-6 md:p-8 promo-badge">
          <div class="flex flex-col md:flex-row items-center">
            <div class="md:w-1/3 mb-6 md:mb-0">
              <div class="w-40 h-40 mx-auto bg-white/10 rounded-xl flex items-center justify-center">
                <img src="<{$featuredData.featuredItem.thumbnail}>" alt="<{$featuredData.featuredItem.title}>" class="w-32 h-32 object-contain">
              </div>
            </div>
            <div class="md:w-2/3 md:pl-8 text-center md:text-left">
              <div class="inline-block bg-primary text-white text-xs px-3 py-1 rounded-full mb-4">首页精选</div>
              <h3 class="font-bold text-2xl md:text-3xl mb-4"><{$featuredData.featuredItem.title}></h3>
              <p class="text-white/80 mb-6 max-w-lg mx-auto md:mx-0"><{$featuredData.featuredItem.description}></p>
              <div class="flex flex-wrap justify-center md:justify-start gap-6 mb-6">
                <div class="text-center">
                  <p class="text-2xl font-bold"><{$featuredData.featuredItem.rating.score}></p>
                  <p class="text-white/70 text-sm">用户评分</p>
                </div>
                <div class="text-center">
                  <p class="text-2xl font-bold"><{$featuredData.featuredItem.user_nums}></p>
                  <p class="text-white/70 text-sm">活跃用户</p>
                </div>
                <div class="text-center">
                  <p class="text-2xl font-bold"><{$featuredData.featuredItem.monthly_active}></p>
                  <p class="text-white/70 text-sm">月活跃</p>
                </div>
              </div>
              <a href="<{$featuredData.featuredItem.url}>" class="bg-white text-secondary px-6 py-3 rounded-lg font-medium transition hover:bg-gray-100">
                立即体验
              </a>
            </div>
          </div>
        </div>
        
        <!-- 轮播控制 -->
        <button class="absolute top-1/2 left-2 transform -translate-y-1/2 w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/30 transition">
          <i class="fa fa-angle-left"></i>
        </button>
        <button class="absolute top-1/2 right-2 transform -translate-y-1/2 w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/30 transition">
          <i class="fa fa-angle-right"></i>
        </button>
      </div>
      <{else}>
      <!-- 无精选推荐数据时的提示 -->
      <div class="relative">
        <div class="bg-white/10 backdrop-blur-sm rounded-2xl overflow-hidden shadow-md p-6 md:p-8">
          <div class="flex flex-col items-center justify-center py-16 text-white/70">
            <i class="fa fa-diamond text-6xl text-white/50 mb-4"></i>
            <h3 class="text-lg font-medium mb-2">暂无精选推荐</h3>
            <p class="text-sm text-white/60">目前没有精选推荐内容，请稍后再试</p>
          </div>
        </div>
      </div>
      <{/if}>
      
      <!-- 区域投放说明 -->
      <div class="mt-8 bg-white/10 backdrop-blur-sm rounded-lg p-4 flex items-start">
        <i class="fa fa-info-circle text-primary mt-1 mr-3"></i>
        <div>
          <h4 class="font-medium">精选推荐区投放说明</h4>
          <p class="text-white/80 text-sm mt-1">本区域为首页黄金位置，每日仅推荐1个优质产品，曝光量约80万+。采用申请审核制，需满足一定资质要求。<a href="#promotion" class="text-primary hover:underline">了解申请条件</a></p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- 推广套餐 -->
  <section id="promotion" class="py-16 md:py-24">
    <div class="container mx-auto px-4 md:px-6">
      <div class="text-center max-w-2xl mx-auto mb-16">
        <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-bold text-secondary mb-4">首页推广套餐</h2>
        <p class="text-gray-600 text-lg">选择适合您的推广方案，覆盖首页多个展示区域</p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
        <!-- 基础套餐 -->
        <div class="bg-white rounded-2xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl hover:-translate-y-2">
          <div class="p-8 border-b border-gray-100">
            <h3 class="font-bold text-2xl mb-2">基础推广</h3>
            <p class="text-gray-600 mb-6">适合个人开发者</p>
            <div class="flex items-end">
              <span class="text-4xl font-bold">¥499</span>
              <span class="text-gray-500 ml-2 mb-1">/月</span>
            </div>
          </div>
          <div class="p-8">
            <ul class="space-y-4 mb-8">
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>1个普通推广位（任选区域）</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>每日曝光量约5万+</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>基础数据统计报告</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>7×12小时客服支持</span>
              </li>
              <li class="flex items-start text-gray-400">
                <i class="fa fa-times mt-1 mr-3"></i>
                <span>无优先展示</span>
              </li>
              <li class="flex items-start text-gray-400">
                <i class="fa fa-times mt-1 mr-3"></i>
                <span>无专属运营顾问</span>
              </li>
            </ul>
            <a href="#submit" class="block w-full py-3 border-2 border-primary text-primary font-medium rounded-lg text-center transition hover:bg-primary hover:text-white">
              选择套餐
            </a>
          </div>
        </div>
        
        <!-- 进阶套餐 -->
        <div class="bg-white rounded-2xl overflow-hidden shadow-xl border-2 border-primary transform scale-105 z-10 transition-all duration-300 hover:shadow-2xl hover:-translate-y-2">
          <div class="bg-primary text-white text-center py-3 text-sm font-medium">
            最受欢迎
          </div>
          <div class="p-8 border-b border-gray-100">
            <h3 class="font-bold text-2xl mb-2">进阶推广</h3>
            <p class="text-gray-600 mb-6">适合中小企业</p>
            <div class="flex items-end">
              <span class="text-4xl font-bold">¥1299</span>
              <span class="text-gray-500 ml-2 mb-1">/月</span>
            </div>
          </div>
          <div class="p-8">
            <ul class="space-y-4 mb-8">
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>3个推广位（可跨区域）</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>每日曝光量约20万+</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>详细数据分析报告</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>7×24小时客服支持</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>区域内优先展示</span>
              </li>
              <li class="flex items-start text-gray-400">
                <i class="fa fa-times mt-1 mr-3"></i>
                <span>无专属运营顾问</span>
              </li>
            </ul>
            <a href="#submit" class="block w-full py-3 bg-primary text-white font-medium rounded-lg text-center transition hover:bg-primary/90 shadow-lg">
              选择套餐
            </a>
          </div>
        </div>
        
        <!-- 企业套餐 -->
        <div class="bg-white rounded-2xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl hover:-translate-y-2">
          <div class="p-8 border-b border-gray-100">
            <h3 class="font-bold text-2xl mb-2">企业推广</h3>
            <p class="text-gray-600 mb-6">适合企业级用户</p>
            <div class="flex items-end">
              <span class="text-4xl font-bold">¥3999</span>
              <span class="text-gray-500 ml-2 mb-1">/月</span>
            </div>
          </div>
          <div class="p-8">
            <ul class="space-y-4 mb-8">
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>8个推广位（全区域覆盖）</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>每日曝光量约80万+</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>高级数据分析与优化建议</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>7×24小时专属客服</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>全站优先展示</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-green-500 mt-1 mr-3"></i>
                <span>专属运营顾问1对1服务</span>
              </li>
            </ul>
            <a href="#submit" class="block w-full py-3 border-2 border-primary text-primary font-medium rounded-lg text-center transition hover:bg-primary hover:text-white">
              选择套餐
            </a>
          </div>
        </div>
      </div>
      
      <!-- 时段选择说明 -->
      <div class="mt-12 bg-gray-50 border border-gray-200 rounded-2xl p-6 max-w-5xl mx-auto">
        <h3 class="font-bold text-xl text-center mb-6">灵活选择推广时段</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="bg-white p-4 rounded-xl text-center">
            <h4 class="font-medium text-primary">工作日套餐</h4>
            <p class="text-sm text-gray-600 mt-2">周一至周五</p>
            <p class="text-gray-500 text-xs mt-4">适合面向职场人群的产品</p>
          </div>
          <div class="bg-white p-4 rounded-xl text-center">
            <h4 class="font-medium text-primary">周末套餐</h4>
            <p class="text-sm text-gray-600 mt-2">周六至周日</p>
            <p class="text-gray-500 text-xs mt-4">适合娱乐、游戏类产品</p>
          </div>
          <div class="bg-white p-4 rounded-xl text-center">
            <h4 class="font-medium text-primary">全周套餐</h4>
            <p class="text-sm text-gray-600 mt-2">周一至周日</p>
            <p class="text-gray-500 text-xs mt-4">适合需要持续曝光的产品</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- 提交推广 -->
  <section id="submit" class="py-16 md:py-24 bg-gradient-to-b from-gray-50 to-white">
    <div class="container mx-auto px-4 md:px-6">
      <div class="bg-gradient-to-r from-secondary to-accent rounded-3xl overflow-hidden shadow-xl">
        <div class="grid grid-cols-1 lg:grid-cols-2">
          <div class="p-8 md:p-12 lg:p-16 text-white">
            <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-bold mb-6">申请首页推广</h2>
            <p class="text-white/90 text-lg mb-8">使用积分申请推广位，精准投放您的产品到目标用户群体。</p>
            <ul class="space-y-4 mb-10">
              <li class="flex items-start">
                <i class="fa fa-check-circle mt-1 mr-3 text-primary"></i>
                <span>积分支付，透明消费</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check-circle mt-1 mr-3 text-primary"></i>
                <span>多种推广位类型可选</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check-circle mt-1 mr-3 text-primary"></i>
                <span>灵活选择推广时段</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check-circle mt-1 mr-3 text-primary"></i>
                <span>实时数据监控，效果透明可查</span>
              </li>
            </ul>
            <div class="flex items-center">
              <div class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center mr-4">
                <i class="fa fa-star text-xl"></i>
              </div>
              <div>
                <p class="text-white/80 text-sm">当前积分余额</p>
                <p class="font-bold text-xl" id="user-points-balance">请登录查看</p>
              </div>
            </div>
          </div>
          
          <div class="bg-white p-8 md:p-12 lg:p-16">
            <h3 class="font-bold text-2xl text-secondary mb-6">推广位申请</h3>
            <form id="index-promotion-form" class="space-y-6">
              <div class="mb-6">
                <label class="block text-gray-700 font-medium mb-2">推广区域</label>
                <select id="index-promotion-area" name="promotion_area" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary">
                  <option value="">请选择推广区域</option>
                  <option value="1">智能体展示区</option>
                  <option value="2">公众号展示区</option>
                  <option value="3">小程序展示区</option>
                  <option value="4">小游戏展示区</option>
                  <option value="5">文章展示区</option>
                  <option value="6">精选推荐区</option>
                </select>
              </div>
              
              <div class="mb-6">
                <label class="block text-gray-700 font-medium mb-2">推广位类型</label>
                <select id="index-promotion-type" name="promotion_type" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary">
                  <option value="">请选择推广位类型</option>
                  <option value="1">置顶推广位</option>
                  <option value="2">大图推广位</option>
                  <option value="3">轮播推广位</option>
                  <option value="4">普通推广位</option>
                  <option value="5">列表推广位</option>
                  <option value="6">网格推广位</option>
                </select>
              </div>
              
              <div class="mb-6">
                <label class="block text-gray-700 font-medium mb-2">推广时长</label>
                <div class="grid grid-cols-3 gap-4">
                  <button type="button" class="index-promotion-duration py-3 px-4 border border-gray-200 rounded-lg text-center hover:border-primary hover:bg-primary/5 transition" data-days="7">
                    <div class="font-medium">7天</div>
                    <div class="text-sm text-gray-500 mt-1">积分: 100</div>
                  </button>
                  <button type="button" class="index-promotion-duration py-3 px-4 border border-gray-200 rounded-lg text-center hover:border-primary hover:bg-primary/5 transition" data-days="30">
                    <div class="font-medium">30天</div>
                    <div class="text-sm text-gray-500 mt-1">积分: 300</div>
                  </button>
                  <button type="button" class="index-promotion-duration py-3 px-4 border border-gray-200 rounded-lg text-center hover:border-primary hover:bg-primary/5 transition" data-days="90">
                    <div class="font-medium">90天</div>
                    <div class="text-sm text-gray-500 mt-1">积分: 800</div>
                  </button>
                </div>
                <input type="hidden" id="index-promotion-days" name="promotion_days" value="">
              </div>
              
              <div class="mb-6">
                <label class="block text-gray-700 font-medium mb-2">选择媒体内容</label>
                <select id="index-media-content" name="media_content" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary">
                  <option value="">请登录后选择要推广的媒体内容</option>
                </select>
              </div>
              
              <div class="mb-6">
                <label class="block text-gray-700 font-medium mb-2">推广链接</label>
                <input type="url" id="index-promotion-url" name="promotion_url" placeholder="https://example.com" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary">
              </div>
              
              <button type="submit" class="w-full bg-primary text-white py-3 rounded-lg font-semibold transition-all duration-300 hover:bg-primary/90 hover:shadow-lg transform hover:-translate-y-0.5">
                提交申请
              </button>
              
              <p class="text-xs text-gray-500 text-center">提交即表示您同意我们的<a href="<{url m="pc" c="main" a="terms"}>" target="_blank" class="text-primary hover:underline">服务条款</a>和<a href="<{url m="pc" c="main" a="userprivacy"}>" target="_blank" class="text-primary hover:underline">隐私政策</a></p>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- JavaScript for navigation highlighting -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Get all navigation buttons with .nav-btn class
      const navButtons = document.querySelectorAll('.nav-btn');
      
      // Function to update active button
      function updateActiveButton(targetId) {
        navButtons.forEach(button => {
          // Remove active state from all buttons
          button.classList.remove('bg-primary', 'text-white');
          button.classList.add('bg-gray-100', 'text-gray-700');
          
          // Add active state to current button
          if (button.getAttribute('href') === '#' + targetId) {
            button.classList.remove('bg-gray-100', 'text-gray-700');
            button.classList.add('bg-primary', 'text-white');
          }
        });
      }
      
      // Handle navigation button clicks
      navButtons.forEach(button => {
        button.addEventListener('click', function(e) {
          e.preventDefault();
          
          const targetId = this.getAttribute('href').substring(1);
          const targetElement = document.getElementById(targetId);
          
          if (targetElement) {
            // Update active button
            updateActiveButton(targetId);
            
            // Smooth scroll to target with offset for sticky header
            const headerOffset = 120; // 调整为适合的偏移量
            const elementPosition = targetElement.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
            
            window.scrollTo({
              top: offsetPosition,
              behavior: 'smooth'
            });
            
            // Update URL hash without jumping
            history.pushState(null, null, '#' + targetId);
          }
        });
      });
      
      // Handle page load with hash
      if (window.location.hash) {
        const targetId = window.location.hash.substring(1);
        updateActiveButton(targetId);
      } else {
        // Default to first section (agents)
        updateActiveButton('agents');
      }
      
      // Update active button on scroll (Intersection Observer)
      const sections = document.querySelectorAll('section[id]');
      const observerOptions = {
        root: null,
        rootMargin: '-20% 0px -70% 0px',
        threshold: 0
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            updateActiveButton(entry.target.id);
          }
        });
      }, observerOptions);
      
      sections.forEach(section => {
        if (section.id) {
          observer.observe(section);
        }
      });
    });
  </script>
  
  <!-- 公众号分类切换JavaScript -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 公众号分类按钮事件
      const wechatCategoryBtns = document.querySelectorAll('.wechat-category-btn');
      const wechatContentContainer = document.getElementById('wechat-content-container');
      
      wechatCategoryBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const category = this.getAttribute('data-category');
          
          // 更新按钮状态
          wechatCategoryBtns.forEach(b => {
            b.classList.remove('bg-white', 'shadow-sm');
            b.classList.add('text-gray-600', 'hover:bg-gray-50');
          });
          this.classList.remove('text-gray-600', 'hover:bg-gray-50');
          this.classList.add('bg-white', 'shadow-sm');
          
          // 显示加载状态
          if (wechatContentContainer) {
            wechatContentContainer.innerHTML = `
              <div class="col-span-full flex items-center justify-center py-16">
                <div class="flex items-center space-x-2 text-gray-500">
                  <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
                  <span>加载中...</span>
                </div>
              </div>
            `;
          }
          
          // 发送AJAX请求
          fetch('/pc/main/getWechatByCategory.html', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: 'p=index&category=' + encodeURIComponent(category)
          })
          .then(response => response.json())
          .then(data => {
            if (data.success) {
              updateWechatContent(data.data);
            } else {
              console.error('获取数据失败:', data.message);
              showErrorMessage('获取数据失败，请稍后再试');
            }
          })
          .catch(error => {
            console.error('请求失败:', error);
            showErrorMessage('网络请求失败，请检查网络连接');
          });
        });
      });
      
      // 更新公众号内容
      function updateWechatContent(wechatData) {
        if (!wechatContentContainer) return;
        
        let html = '';
        
        // 置顶推广位
        if (wechatData.topPromotion) {
          html += `
            <div class="lg:col-span-1 bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl promo-badge">
              <div class="relative">
                <img src="${wechatData.topPromotion.thumbnail}" alt="${wechatData.topPromotion.title}" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex flex-col justify-end p-5">
                  <div class="w-16 h-16 rounded-full bg-white p-1 mb-3">
                    <img src="${wechatData.topPromotion.thumbnail}" alt="${wechatData.topPromotion.title}头像" class="w-full h-full rounded-full object-cover">
                  </div>
                  <h3 class="text-white font-bold text-xl">${wechatData.topPromotion.title}</h3>
                  <p class="text-white/80 text-sm mt-1">${wechatData.topPromotion.description}</p>
                  <div class="mt-3 flex items-center">
                    <span class="bg-white/20 backdrop-blur-sm text-white text-xs px-2 py-1 rounded mr-2">${wechatData.topPromotion.user_nums}粉丝</span>
                    <span class="bg-white/20 backdrop-blur-sm text-white text-xs px-2 py-1 rounded">${wechatData.topPromotion.content_type_text}</span>
                  </div>
                  <div class="absolute top-3 left-3 bg-primary text-white text-xs px-2 py-1 rounded">置顶推广</div>
                </div>
              </div>
            </div>
          `;
        }
        
        // 右侧列表容器
        let rightContentHtml = '';
        
        // 普通展示位
        if (wechatData.normalWechats && wechatData.normalWechats.length > 0) {
          wechatData.normalWechats.forEach(item => {
            rightContentHtml += `
              <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl flex">
                <div class="w-1/3">
                  <img src="${item.thumbnail}" alt="${item.title}" class="w-full h-full object-cover">
                </div>
                <div class="w-2/3 p-4">
                  <h3 class="font-bold">${item.title}</h3>
                  <p class="text-gray-600 text-xs mt-1 line-clamp-2">${item.description}</p>
                  <div class="mt-2 flex items-center text-xs text-gray-500">
                    <span class="mr-3"><i class="fa fa-user-circle mr-1"></i> ${item.user_nums}粉丝</span>
                    <span><i class="fa fa-folder-o mr-1"></i> ${item.content_type_text}</span>
                  </div>
                  <div class="mt-2 flex items-center text-xs text-gray-400">
                    <span>更新时间: ${item.publish_time}</span>
                  </div>
                </div>
              </div>
            `;
          });
        }
        
        // 推广位
        if (wechatData.promotions && wechatData.promotions.length > 0) {
          wechatData.promotions.forEach(item => {
            rightContentHtml += `
              <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl flex promo-badge">
                <div class="w-1/3">
                  <img src="${item.thumbnail}" alt="${item.title}" class="w-full h-full object-cover">
                </div>
                <div class="w-2/3 p-4">
                  <h3 class="font-bold">${item.title}</h3>
                  <p class="text-gray-600 text-xs mt-1 line-clamp-2">${item.description}</p>
                  <div class="mt-2 flex items-center text-xs text-gray-500">
                    <span class="mr-3"><i class="fa fa-user-circle mr-1"></i> ${item.user_nums}粉丝</span>
                    <span><i class="fa fa-folder-o mr-1"></i> ${item.content_type_text}</span>
                  </div>
                  <div class="mt-2 flex items-center text-xs text-gray-400">
                    <span>更新时间: ${item.publish_time}</span>
                  </div>
                </div>
              </div>
            `;
          });
        }
        
        // 如果右侧有内容，添加容器
        if (rightContentHtml) {
          html += `<div class="lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-6">${rightContentHtml}</div>`;
        }
        
        // 如果没有任何数据，显示空状态
        if (!wechatData.topPromotion && (!wechatData.normalWechats || wechatData.normalWechats.length === 0) && (!wechatData.promotions || wechatData.promotions.length === 0)) {
          html = `
            <div class="col-span-full flex flex-col items-center justify-center py-16 text-gray-500">
              <i class="fa fa-weixin text-6xl text-gray-300 mb-4"></i>
              <h3 class="text-lg font-medium mb-2">暂无公众号数据</h3>
              <p class="text-sm text-gray-400">该分类下目前没有可展示的公众号内容</p>
            </div>
          `;
        }
        
        wechatContentContainer.innerHTML = html;
      }
      
      // 显示错误信息
      function showErrorMessage(message) {
        if (wechatContentContainer) {
          wechatContentContainer.innerHTML = `
            <div class="col-span-full flex flex-col items-center justify-center py-16 text-gray-500">
              <i class="fa fa-exclamation-triangle text-6xl text-red-300 mb-4"></i>
              <h3 class="text-lg font-medium mb-2">加载失败</h3>
              <p class="text-sm text-gray-400">${message}</p>
              <button onclick="location.reload()" class="mt-4 px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90 transition">
                重新加载
              </button>
            </div>
          `;
        }
      }
    });
    
    // 小程序分类切换功能
    const miniProgramCategoryBtns = document.querySelectorAll('.miniprogram-category-btn');
    const miniProgramContentContainer = document.getElementById('miniprogram-content-container');
    
    miniProgramCategoryBtns.forEach(button => {
      button.addEventListener('click', function() {
        const category = this.getAttribute('data-category');
        
        // 更新按钮状态
        miniProgramCategoryBtns.forEach(btn => {
          btn.classList.remove('bg-white', 'shadow-sm');
          btn.classList.add('text-gray-600', 'hover:bg-gray-50');
        });
        this.classList.remove('text-gray-600', 'hover:bg-gray-50');
        this.classList.add('bg-white', 'shadow-sm');
        
        // 显示加载状态
        if (miniProgramContentContainer) {
          miniProgramContentContainer.innerHTML = `
            <div class="flex items-center justify-center py-16">
              <div class="flex items-center space-x-2 text-gray-500">
                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
                <span>加载中...</span>
              </div>
            </div>
          `;
        }
        
        // 发送AJAX请求
        fetch('/pc/main/getMiniProgramByCategory.html', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
          },
          body: 'category=' + encodeURIComponent(category)
        })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            updateMiniProgramContent(data.data);
          } else {
            console.error('获取数据失败:', data.message);
            showMiniProgramErrorMessage('获取数据失败，请稍后再试');
          }
        })
        .catch(error => {
          console.error('请求失败:', error);
          showMiniProgramErrorMessage('网络请求失败，请检查网络连接');
        });
      });
    });
    
    // 更新小程序内容
    function updateMiniProgramContent(miniProgramData) {
      if (!miniProgramContentContainer) return;
      
      let html = '';
      
      // 置顶推广位
      if (miniProgramData.topPromotion) {
        html += `
          <div class="relative mb-10">
            <div class="bg-white rounded-2xl overflow-hidden shadow-md border border-gray-100 p-6 promo-badge">
              <div class="flex flex-col md:flex-row items-center">
                <div class="md:w-1/3 mb-6 md:mb-0">
                  <div class="w-32 h-32 mx-auto bg-gray-100 rounded-xl flex items-center justify-center">
                    <img src="${miniProgramData.topPromotion.thumbnail}" alt="${miniProgramData.topPromotion.title}" class="w-24 h-24 object-contain">
                  </div>
                </div>
                <div class="md:w-2/3 md:pl-8 text-center md:text-left">
                  <div class="inline-block bg-purple-100 text-purple-700 text-xs px-2 py-1 rounded mb-3">置顶推广</div>
                  <h3 class="font-bold text-2xl mb-3">${miniProgramData.topPromotion.title}</h3>
                  <p class="text-gray-600 mb-4">${miniProgramData.topPromotion.description}</p>
                  <button class="bg-purple-600 text-white px-6 py-2 rounded-lg font-medium text-sm transition hover:bg-purple-700">
                    <i class="fa fa-play-circle mr-1"></i> 立即使用
                  </button>
                </div>
              </div>
            </div>
          </div>
        `;
      }
      
      // 小程序网格
      let gridItems = '';
      
      // 普通展示位
      if (miniProgramData.normalMiniPrograms && miniProgramData.normalMiniPrograms.length > 0) {
        miniProgramData.normalMiniPrograms.forEach(item => {
          gridItems += `
            <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl p-4 text-center">
              <div class="w-16 h-16 mx-auto bg-gray-100 rounded-lg flex items-center justify-center mb-3">
                <img src="${item.thumbnail}" alt="${item.title}" class="w-10 h-10 object-contain">
              </div>
              <h3 class="font-medium text-sm line-clamp-1">${item.title}</h3>
              <p class="text-gray-500 text-xs mt-1">${item.content_type_text}</p>
            </div>
          `;
        });
      }
      
      // 推广位
      if (miniProgramData.promotions && miniProgramData.promotions.length > 0) {
        miniProgramData.promotions.forEach(item => {
          gridItems += `
            <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl p-4 text-center promo-badge">
              <div class="w-16 h-16 mx-auto bg-gray-100 rounded-lg flex items-center justify-center mb-3">
                <img src="${item.thumbnail}" alt="${item.title}" class="w-10 h-10 object-contain">
              </div>
              <h3 class="font-medium text-sm line-clamp-1">${item.title}</h3>
              <p class="text-gray-500 text-xs mt-1">${item.content_type_text}</p>
            </div>
          `;
        });
      }
      
      if (gridItems) {
        html += `<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">${gridItems}</div>`;
      }
      
      // 无数据提示
      if (!miniProgramData.topPromotion && (!miniProgramData.normalMiniPrograms || miniProgramData.normalMiniPrograms.length === 0) && (!miniProgramData.promotions || miniProgramData.promotions.length === 0)) {
        html = `
          <div class="flex flex-col items-center justify-center py-16 text-gray-500">
            <i class="fa fa-th-large text-6xl text-gray-300 mb-4"></i>
            <h3 class="text-lg font-medium mb-2">暂无小程序数据</h3>
            <p class="text-sm text-gray-400">该分类下目前没有可展示的小程序内容</p>
          </div>
        `;
      }
      
      miniProgramContentContainer.innerHTML = html;
    }
    
    // 显示小程序错误信息
    function showMiniProgramErrorMessage(message) {
      if (miniProgramContentContainer) {
        miniProgramContentContainer.innerHTML = `
          <div class="flex flex-col items-center justify-center py-16 text-gray-500">
            <i class="fa fa-exclamation-triangle text-6xl text-red-300 mb-4"></i>
            <h3 class="text-lg font-medium mb-2">加载失败</h3>
            <p class="text-sm text-gray-400">${message}</p>
            <button onclick="location.reload()" class="mt-4 px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90 transition">
              重新加载
            </button>
          </div>
        `;
      }
    }
  </script>
  
  <script>
    // 小游戏分类切换功能
    document.addEventListener('DOMContentLoaded', function() {
      const gameCategoryBtns = document.querySelectorAll('.game-category-btn');
      const gameContentContainer = document.getElementById('game-content-container');
      
      gameCategoryBtns.forEach(button => {
        button.addEventListener('click', function() {
          const category = this.getAttribute('data-category');
          
          // 更新按钮状态
          gameCategoryBtns.forEach(btn => {
            btn.classList.remove('bg-white', 'shadow-sm');
            btn.classList.add('text-gray-600', 'hover:bg-gray-50');
          });
          this.classList.remove('text-gray-600', 'hover:bg-gray-50');
          this.classList.add('bg-white', 'shadow-sm');
          
          // 显示加载状态
          if (gameContentContainer) {
            gameContentContainer.innerHTML = `
              <div class="flex items-center justify-center py-16">
                <div class="flex items-center space-x-2 text-gray-500">
                  <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
                  <span>加载中...</span>
                </div>
              </div>
            `;
          }
          
          // 发送AJAX请求
          fetch('/pc/main/getGameByCategory.html', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: 'category=' + encodeURIComponent(category)
          })
          .then(response => response.json())
          .then(data => {
            if (data.success) {
              updateGameContent(data.data);
            } else {
              console.error('获取数据失败:', data.message);
              showGameErrorMessage('获取数据失败，请稍后再试');
            }
          })
          .catch(error => {
            console.error('请求失败:', error);
            showGameErrorMessage('网络请求失败，请检查网络连接');
          });
        });
      });
      
      // 更新小游戏内容
      function updateGameContent(gameData) {
        if (!gameContentContainer) return;
        
        let html = '<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">';
        
        // 左侧大型推广位
        if (gameData.topPromotion) {
          html += `
            <div class="lg:col-span-1 bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl promo-badge">
              <div class="relative">
                <img src="${gameData.topPromotion.thumbnail}" alt="${gameData.topPromotion.title}" class="w-full h-64 object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
                  <div class="p-5 w-full">
                    <div class="flex justify-between items-center">
                      <span class="bg-yellow-500 text-white text-xs px-2 py-1 rounded">${gameData.topPromotion.content_type_text}</span>
                    </div>
                    <h3 class="text-white font-bold text-xl mt-2">${gameData.topPromotion.title}</h3>
                    <p class="text-white/80 text-sm mt-1 line-clamp-2">${gameData.topPromotion.description}</p>
                  </div>
                </div>
              </div>
              <div class="p-5">
                <div class="flex justify-between items-center mb-4">
                  <div class="flex items-center text-sm text-gray-500">
                    <span class="mr-4"><i class="fa fa-user mr-1"></i> ${gameData.topPromotion.user_nums}玩家</span>
                    <span><i class="fa fa-clock-o mr-1"></i> 更新时间: ${gameData.topPromotion.publish_time}</span>
                  </div>
                </div>
                <button class="w-full bg-yellow-500 text-white py-2 rounded-lg font-medium text-sm transition hover:bg-yellow-600">
                  <i class="fa fa-play mr-1"></i> 开始游戏
                </button>
              </div>
            </div>
          `;
        }
        
        // 右侧游戏列表
        let rightContentHtml = '';
        
        // 普通展示位
        if (gameData.normalGames && gameData.normalGames.length > 0) {
          gameData.normalGames.forEach(item => {
            rightContentHtml += `
              <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl">
                <div class="relative">
                  <img src="${item.thumbnail}" alt="${item.title}" class="w-full h-36 object-cover">
                </div>
                <div class="p-4">
                  <div class="flex justify-between items-start">
                    <h3 class="font-bold">${item.title}</h3>
                    <span class="bg-pink-100 text-pink-700 text-xs px-2 py-1 rounded">${item.content_type_text}</span>
                  </div>
                  <p class="text-gray-600 text-xs mt-1 line-clamp-1">${item.description}</p>
                  <div class="mt-3 flex justify-between items-center">
                    <span class="text-xs text-gray-500"><i class="fa fa-user mr-1"></i> ${item.user_nums}玩家</span>
                    <button class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-xs transition">
                      开始游戏
                    </button>
                  </div>
                </div>
              </div>
            `;
          });
        }
        
        // 推广位
        if (gameData.promotions && gameData.promotions.length > 0) {
          gameData.promotions.forEach(item => {
            rightContentHtml += `
              <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl promo-badge">
                <div class="relative">
                  <img src="${item.thumbnail}" alt="${item.title}" class="w-full h-36 object-cover">
                </div>
                <div class="p-4">
                  <div class="flex justify-between items-start">
                    <h3 class="font-bold">${item.title}</h3>
                    <span class="bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded">${item.content_type_text}</span>
                  </div>
                  <p class="text-gray-600 text-xs mt-1 line-clamp-1">${item.description}</p>
                  <div class="mt-3 flex justify-between items-center">
                    <span class="text-xs text-gray-500"><i class="fa fa-user mr-1"></i> ${item.user_nums}玩家</span>
                    <button class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-xs transition">
                      开始游戏
                    </button>
                  </div>
                </div>
              </div>
            `;
          });
        }
        
        if (rightContentHtml) {
          const colSpan = gameData.topPromotion ? 'lg:col-span-2' : 'lg:col-span-3';
          html += `<div class="${colSpan} grid grid-cols-1 sm:grid-cols-2 gap-6">${rightContentHtml}</div>`;
        }
        
        // 无数据提示
        if (!gameData.topPromotion && (!gameData.normalGames || gameData.normalGames.length === 0) && (!gameData.promotions || gameData.promotions.length === 0)) {
          html += `
            <div class="col-span-full flex flex-col items-center justify-center py-16 text-gray-500">
              <i class="fa fa-gamepad text-6xl text-gray-300 mb-4"></i>
              <h3 class="text-lg font-medium mb-2">暂无游戏数据</h3>
              <p class="text-sm text-gray-400">该分类下目前没有可展示的游戏内容</p>
            </div>
          `;
        }
        
        html += '</div>';
        gameContentContainer.innerHTML = html;
      }
      
      // 显示小游戏错误信息
      function showGameErrorMessage(message) {
        if (gameContentContainer) {
          gameContentContainer.innerHTML = `
            <div class="flex flex-col items-center justify-center py-16 text-gray-500">
              <i class="fa fa-exclamation-triangle text-6xl text-red-300 mb-4"></i>
              <h3 class="text-lg font-medium mb-2">加载失败</h3>
              <p class="text-sm text-gray-400">${message}</p>
              <button onclick="location.reload()" class="mt-4 px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90 transition">
                重新加载
              </button>
            </div>
          `;
        }
      }
    });
  </script>
  
  <script>
    // 文章分类切换功能
    document.addEventListener('DOMContentLoaded', function() {
      const articleCategoryBtns = document.querySelectorAll('.article-category-btn');
      const articleContentContainer = document.getElementById('article-content-container');
      
      articleCategoryBtns.forEach(button => {
        button.addEventListener('click', function() {
          const category = this.getAttribute('data-category');
          
          // 更新按钮状态
          articleCategoryBtns.forEach(btn => {
            btn.classList.remove('bg-white', 'shadow-sm');
            btn.classList.add('text-gray-600', 'hover:bg-gray-50');
          });
          this.classList.remove('text-gray-600', 'hover:bg-gray-50');
          this.classList.add('bg-white', 'shadow-sm');
          
          // 显示加载状态
          if (articleContentContainer) {
            articleContentContainer.innerHTML = `
              <div class="flex items-center justify-center py-16">
                <div class="flex items-center space-x-2 text-gray-500">
                  <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
                  <span>加载中...</span>
                </div>
              </div>
            `;
          }
          
          // 发送AJAX请求
          fetch('/pc/main/getArticleByCategory.html', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: 'category=' + encodeURIComponent(category)
          })
          .then(response => response.json())
          .then(data => {
            if (data.success) {
              updateArticleContent(data.data);
            } else {
              console.error('获取数据失败:', data.message);
              showArticleErrorMessage('获取数据失败，请稍后再试');
            }
          })
          .catch(error => {
            console.error('请求失败:', error);
            showArticleErrorMessage('网络请求失败，请检查网络连接');
          });
        });
      });
      
      // 更新文章内容
      function updateArticleContent(articleData) {
        if (!articleContentContainer) return;
        
        let html = '<div class="grid grid-cols-1 lg:grid-cols-5 gap-6">';
        
        // 顶部大图文章
        if (articleData.topPromotion) {
          html += `
            <div class="lg:col-span-3 bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl promo-badge">
              <div class="relative">
                <img src="${articleData.topPromotion.thumbnail}" alt="${articleData.topPromotion.title}" class="w-full h-64 object-cover">
                <div class="absolute top-4 left-4 bg-red-500 text-white text-xs px-2 py-1 rounded">置顶</div>
              </div>
              <div class="p-6">
                <div class="flex items-center mb-3">
                  <span class="bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded mr-2">${articleData.topPromotion.content_type_text}</span>
                  <span class="text-gray-500 text-sm">${articleData.topPromotion.publish_time}</span>
                </div>
                <h3 class="font-bold text-2xl mb-3">${articleData.topPromotion.title}</h3>
                <p class="text-gray-600 mb-4 line-clamp-3">${articleData.topPromotion.description}</p>
                <div class="flex items-center justify-between">
                  <div class="flex items-center">
                    <div class="w-10 h-10 rounded-full overflow-hidden mr-3">
                      <img src="${articleData.topPromotion.thumbnail}" alt="作者头像" class="w-full h-full object-cover">
                    </div>
                    <span class="font-medium">${articleData.topPromotion.author_name || '作者'}</span>
                  </div>
                  <div class="flex items-center space-x-4 text-gray-500 text-sm">
                    <span><i class="fa fa-eye mr-1"></i> ${articleData.topPromotion.views}</span>
                    <span><i class="fa fa-comment mr-1"></i> ${articleData.topPromotion.comment_count}</span>
                    <span><i class="fa fa-heart mr-1"></i> ${articleData.topPromotion.like_count}</span>
                  </div>
                </div>
              </div>
            </div>
          `;
        }
        
        // 右侧文章列表
        let rightContentHtml = '';
        
        // 普通展示位
        if (articleData.normalArticles && articleData.normalArticles.length > 0) {
          articleData.normalArticles.forEach(item => {
            rightContentHtml += `
              <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl flex flex-col sm:flex-row">
                <div class="sm:w-1/3">
                  <img src="${item.thumbnail}" alt="${item.title}" class="w-full h-full object-cover">
                </div>
                <div class="sm:w-2/3 p-4">
                  <span class="bg-green-100 text-green-700 text-xs px-2 py-1 rounded">${item.content_type_text}</span>
                  <h3 class="font-bold mt-2 line-clamp-2">${item.title}</h3>
                  <div class="mt-3 flex items-center justify-between text-sm">
                    <span class="text-gray-500">${item.views}阅读</span>
                    <span class="text-gray-500">${item.publish_time}</span>
                  </div>
                </div>
              </div>
            `;
          });
        }
        
        // 推广位
        if (articleData.promotions && articleData.promotions.length > 0) {
          articleData.promotions.forEach(item => {
            rightContentHtml += `
              <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100 transition-all duration-300 hover:shadow-xl flex flex-col sm:flex-row promo-badge">
                <div class="sm:w-1/3">
                  <img src="${item.thumbnail}" alt="${item.title}" class="w-full h-full object-cover">
                </div>
                <div class="sm:w-2/3 p-4">
                  <span class="bg-purple-100 text-purple-700 text-xs px-2 py-1 rounded">${item.content_type_text}</span>
                  <h3 class="font-bold mt-2 line-clamp-2">${item.title}</h3>
                  <div class="mt-3 flex items-center justify-between text-sm">
                    <span class="text-gray-500">${item.views}阅读</span>
                    <span class="text-gray-500">${item.publish_time}</span>
                  </div>
                </div>
              </div>
            `;
          });
        }
        
        if (rightContentHtml) {
          const colSpan = articleData.topPromotion ? 'lg:col-span-2' : 'lg:col-span-5';
          html += `<div class="${colSpan} flex flex-col gap-6">${rightContentHtml}</div>`;
        }
        
        // 无数据提示
        if (!articleData.topPromotion && (!articleData.normalArticles || articleData.normalArticles.length === 0) && (!articleData.promotions || articleData.promotions.length === 0)) {
          html += `
            <div class="col-span-full flex flex-col items-center justify-center py-16 text-gray-500">
              <i class="fa fa-newspaper-o text-6xl text-gray-300 mb-4"></i>
              <h3 class="text-lg font-medium mb-2">暂无文章数据</h3>
              <p class="text-sm text-gray-400">该分类下目前没有可展示的文章内容</p>
            </div>
          `;
        }
        
        html += '</div>';
        articleContentContainer.innerHTML = html;
      }
      
      // 显示文章错误信息
      function showArticleErrorMessage(message) {
        if (articleContentContainer) {
          articleContentContainer.innerHTML = `
            <div class="flex flex-col items-center justify-center py-16 text-gray-500">
              <i class="fa fa-exclamation-triangle text-6xl text-red-300 mb-4"></i>
              <h3 class="text-lg font-medium mb-2">加载失败</h3>
              <p class="text-sm text-gray-400">${message}</p>
              <button onclick="location.reload()" class="mt-4 px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90 transition">
                重新加载
              </button>
            </div>
          `;
        }
      }
      
      // 首页推广申请功能
      // 获取用户积分余额
      function getUserPointsBalance() {
        fetch('/pc/main/getUserPoints.html')
          .then(response => response.json())
          .then(data => {
            if (data.success) {
              document.getElementById('user-points-balance').textContent = data.points + ' 积分';
            } else {
              document.getElementById('user-points-balance').textContent = '请登录查看';
            }
          })
          .catch(error => {
            console.error('获取积分失败:', error);
            document.getElementById('user-points-balance').textContent = '请登录查看';
          });
      }
      
      // 加载用户媒体内容
      function loadUserMedia() {
        fetch('/pc/main/getUserMedia.html')
          .then(response => response.json())
          .then(data => {
            if (data.success) {
              const mediaSelect = document.getElementById('index-media-content');
              // 清空现有选项
              mediaSelect.innerHTML = '<option value="">请选择要推广的媒体内容</option>';
              
              // 添加新选项
              data.data.forEach(media => {
                const option = document.createElement('option');
                option.value = media.id;
                option.textContent = media.title;
                mediaSelect.appendChild(option);
              });
            } else {
              console.error('获取媒体内容失败:', data.message);
            }
          })
          .catch(error => {
            console.error('获取媒体内容失败:', error);
          });
      }
      
      // 页面加载完成后执行
      getUserPointsBalance();
      loadUserMedia();
      
      // 推广时长选择
      const promotionDurations = document.querySelectorAll('.index-promotion-duration');
      const promotionDaysInput = document.getElementById('index-promotion-days');
      
      promotionDurations.forEach(btn => {
        btn.addEventListener('click', function() {
          // 清除之前的选择
          promotionDurations.forEach(b => {
            b.classList.remove('border-primary', 'bg-primary/5');
          });
          
          // 设置当前选择
          this.classList.add('border-primary', 'bg-primary/5');
          promotionDaysInput.value = this.dataset.days;
        });
      });
      
      // 表单提交
      const promotionForm = document.getElementById('index-promotion-form');
      
      promotionForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // 获取表单数据
        const formData = new FormData(this);
        const data = Object.fromEntries(formData.entries());
        
        // 验证数据
        if (!data.promotion_area) {
          alert('请选择推广区域');
          return;
        }
        
        if (!data.promotion_type) {
          alert('请选择推广位类型');
          return;
        }
        
        if (!data.promotion_days) {
          alert('请选择推广时长');
          return;
        }
        
        if (!data.media_content) {
          alert('请选择媒体内容');
          return;
        }
        
        // 发送数据到服务器
        fetch('/pc/main/applyPromotion.html', {
          method: 'POST',
          body: formData
        })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            alert('申请已提交，请等待审核');
            // 重置表单
            promotionForm.reset();
            promotionDaysInput.value = '';
            promotionDurations.forEach(btn => {
              btn.classList.remove('border-primary', 'bg-primary/5');
            });
            // 更新积分显示
            if (data.points !== undefined) {
              document.getElementById('user-points-balance').textContent = data.points + ' 积分';
            }
          } else {
            alert('申请失败: ' + data.message);
          }
        })
        .catch(error => {
          console.error('Error:', error);
          alert('提交申请时发生错误');
        });
      });
    });
  </script>
</body>
</html>